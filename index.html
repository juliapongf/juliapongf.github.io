<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How many chapters does this character have in A Song of Ice and Fire?</title>
    <style>
        body{
            background-color: #fae6a0;
            text-align: center;
        }
        h1{
            color: #dc143c;
            font-family: 'Lucida Calligraphy', 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        }
        h2{
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
        }
        #div1{
            margin: 20px;
        }
        #div2{
            border: 5px solid #dc143c;
            width: fit-content;
            margin: 20px auto;
            padding: 10px;
        }
        ul{
            display: inline-block;
            text-align: left;
        }
        li::marker{
            color: #dc143c;
        }
    </style>
</head>
<body>
    <h1>
        <i>How many chapters does this character have in "A Song of Ice and Fire?"</i>
    </h1>
    <div id="div1">
        <h2>
            <bold>Select a Point of View character:</bold>
        </h2>
        <form>
            <select>
                <option value="">Select a character</option>
            </select>
        </form>
    </div>

    <img width="300px"></img>
    
    <div id="div2">
        <p></p>
        <div><ul></ul></div>
    </div>


    <script>
        // dados sobre os personagens
        const pov_characters = ["Aeron Greyjoy", "Areo Hotah", "Arianne Martell", "Arya Stark", "Arys Oakheart", "Asha Greyjoy", "Barristan Selmy", "Bran Stark",
        "Brienne of Tarth", "Catelyn Stark", "Cersei Lannister", "Chett", "Cressen", "Daenerys Targaryen", "Davos Seaworth", "Eddard Stark", "Jaime Lannister",
        "Jon Connington", "Jon Snow", "Kevan Lannister", "Melisandre", "Merrett Frey", "Pate", "Quentyn Martell", "Samwell Tarly", "Sansa Stark", "Theon Greyjoy",
        "Tyrion Lannister", "Varamyr", "Victarion Greyjoy", "Will"];
        const chapters = [ [0, 0, 0, 5, 0, 0, 0, 7, 0, 11, 0, 0, 0, 10, 0, 15, 0, 0, 9, 0, 0, 0, 0, 0, 0, 6, 0, 9, 0, 0, 1],
                        [0, 0, 0, 10, 0, 0, 0, 7, 0, 7, 0, 0, 1, 5, 3, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 8, 6, 15, 0, 0, 0],
                        [0, 0, 0, 13, 0, 0, 0, 4, 0, 7, 0, 1, 0, 6, 6, 0, 9, 0, 12, 0, 0, 1, 0, 0, 5, 7, 0, 11, 0, 0, 0],
                        [2, 1, 2, 3, 1, 1, 0, 0, 8, 0, 10, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 1, 0, 5, 3, 0, 0, 0, 2, 0],
                        [0, 1, 0, 2, 0, 3, 4, 3, 0, 0, 2, 0, 0, 10, 4, 0, 1, 2, 13, 1, 1, 0, 0, 4, 0, 0, 7, 12, 1, 2, 0]];
        const books = ["A Game of Thrones", "A Clash of Kings", "A Storm of Swords", "A Feast for Crows", "A Dance with Dragons"];

        // borda desativada quando não há nada escrito
        const div2 = document.getElementById('div2');
        div2.style.border = "none";
        
        // criando as opções do select
        for (let i = 0; i < pov_characters.length; i++){
            const option = document.createElement('option');
            option.value = i;
            option.innerHTML = pov_characters[i];
            document.querySelector('select').append(option);   
        };

        // evento select
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelector('select').onchange = function() {

                // se nada selecionado, limpa tudo
                if (this.value === ""){
                    div2.style.border = "none";
                    document.querySelector('img').src = '';
                    document.querySelector('p').innerHTML = '';
                    document.querySelector('ul').innerHTML = '';
                }

                // se personagem selecionado, preenche os dados do personagem
                else{
                    document.querySelector('img').src = images[this.value];

                    // ativando borda
                    div2.style.border = "5px solid #dc143c";

                    // imprimindo total de capítulos (se o personagem for um dos top 5 com masis capítulos, ativa um alerta)
                    const total = chapters[0][this.value]+chapters[1][this.value]+chapters[2][this.value]+chapters[3][this.value]+chapters[4][this.value];
                    if (total >= 25){
                        alert(`${pov_characters[this.value]} is in the top 5 characters with the most chapters!`);
                    }
                    if (total === 1){
                        document.querySelector('p').innerHTML = `${pov_characters[this.value]} has ${total} chapter in "A Song of Ice and Fire:`;
                    }
                    else{
                        document.querySelector('p').innerHTML = `${pov_characters[this.value]} has ${total} chapters in "A Song of Ice and Fire:`;
                    }

                    // imprimindo a quantidade de capítulos por livro
                    document.querySelector('ul').innerHTML = '';
                    for (let j = 0; j < 5; j++){
                        const li1 = document.createElement('li');
                        if (chapters[j][this.value] === 1){
                            li1.innerHTML = `${chapters[j][this.value]} chapter in "${books[j]}."`;
                            document.querySelector('ul').append(li1);
                        }
                        else{
                            li1.innerHTML = `${chapters[j][this.value]} chapters in "${books[j]}."`;
                            document.querySelector('ul').append(li1);
                        }
                    }
                    
                      
                }  
            };
        });
        const images = ["oi.png", "ai.png"]
    </script>

</body>
</html>